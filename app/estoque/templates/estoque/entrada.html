{% extends 'base.html' %}
{% block content %}
<div class="bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden mb-6">
    <div class="bg-emerald-50 px-6 py-4 border-b border-emerald-100">
        <h2 class="text-lg font-bold text-emerald-800">Nova Entrada</h2>
        <p class="text-xs text-emerald-600">Adicione itens pré-definidos ou crie novos.</p>
    </div>
    <form action="/entrada" method="POST" class="p-6 space-y-5">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
        
        <div>
            <label class="label-pro">Item / Uniforme</label>
            <select name="nome_select" id="nome_select" class="input-pro cursor-pointer" onchange="verificarOutros(this)">
                <option value="Camisa Tático">Camisa Tático</option>
                <option value="Calça Tático">Calça Tático</option>
                <option value="Camisa Portaria">Camisa Portaria</option>
                <option value="Calça Portaria">Calça Portaria</option>
                <option value="Blazer Portaria">Blazer Portaria</option>
                <option value="Camisa Limpeza">Camisa Limpeza</option>
                <option value="Calça Limpeza">Calça Limpeza</option>
                <option value="Outros">Outros...</option>
            </select>
        </div>
        
        <div id="div_outros" class="hidden animate-fade-in">
            <label class="label-pro text-blue-600">Digite o nome do Item</label>
            <input type="text" name="nome_outros" id="nome_outros" class="input-pro border-blue-300 focus:border-blue-600 bg-blue-50 focus:bg-white" placeholder="Ex: Sapato Social">
        </div>
        
        <div class="grid grid-cols-2 gap-4">
            <div>
                <label class="label-pro">Tamanho</label>
                <select name="tamanho" class="input-pro cursor-pointer">
                    <option value="P">P</option><option value="M">M</option><option value="G">G</option><option value="GG">GG</option><option value="XG">XG</option>
                </select>
            </div>
            <div>
                <label class="label-pro">Gênero</label>
                <select name="genero" class="input-pro cursor-pointer">
                    <option value="Masculino">Masculino</option><option value="Feminino">Feminino</option><option value="Unissex">Unissex</option>
                </select>
            </div>
        </div>
        
        <div>
            <label class="label-pro text-emerald-600">Quantidade</label>
            <input type="number" name="quantidade" min="1" value="1" class="input-pro font-bold text-lg text-emerald-700 border-emerald-200 focus:border-emerald-600" required>
        </div>
        
        <div class="pt-4 border-t border-slate-100">
            <p class="text-xs font-bold text-slate-400 uppercase mb-3">Definição de Níveis (Opcional)</p>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="label-pro text-red-400">Mínimo (Ruim)</label>
                    <input type="number" name="estoque_minimo" value="5" class="input-pro border-red-100 focus:border-red-400 text-xs">
                </div>
                <div>
                    <label class="label-pro text-emerald-400">Ideal (Bom)</label>
                    <input type="number" name="estoque_ideal" value="20" class="input-pro border-emerald-100 focus:border-emerald-400 text-xs">
                </div>
            </div>
        </div>
        
        <button type="submit" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-lg shadow-md hover:shadow-lg transition">ADICIONAR</button>
    </form>
</div>

<a href="/historico/entrada" class="block bg-slate-100 hover:bg-slate-200 text-slate-600 text-center py-3 rounded-lg font-bold text-xs transition mb-8">
    <i class="fas fa-history mr-1"></i> VER HISTÓRICO DE ENTRADAS
</a>

<script>
    function verificarOutros(select) {
        const div = document.getElementById('div_outros');
        const input = document.getElementById('nome_outros');
        if (select.value === 'Outros') { 
            div.classList.remove('hidden'); 
            input.required = true; 
            input.focus(); 
        } else { 
            div.classList.add('hidden'); 
            input.required = false; 
        }
    }
</script>
{% endblock %}

